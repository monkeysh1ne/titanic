---
title: "Titanic Tutorial - DataScienceDojo"
output: html_notebook
---
## Resource: 'ggplot2 - Elegent Graphics for Data Analysis (book), 2nd Ed.'
### by Hadley Wickham (pub: Springer)


```{r setup, echo=FALSE, message=FALSE}
library(titanic)
library(ggplot2)
library(dplyr)
```

```{r create-df}
titanic <- read.csv("titanic.csv", stringsAsFactors = FALSE)
# Checking the structure
str(titanic)
View(titanic)
```



### Setup as factors

```{r setup-factors}
titanic$Pclass <- as.factor(titanic$Pclass)
titanic$Survived <- as.factor(titanic$Survived)
titanic$Sex <- as.factor(titanic$Sex)
titanic$Embarked <- as.factor(titanic$Embarked)
```

### Initial analysis and cleanup data (e.g., missing values)
```{r cleanup}
colSums(is.na(titanic))

```




## First question - What was the survival rate?
### As 'Survived' is now a factor (i.e., Categorical) variable, a bar-chart is a great visualisation to use.
```{r bar-chart-survival}
ggplot(titanic, aes(x = Survived)) +
  geom_bar()
```
### Add some plot customisations and a theme
```{r bar-chart-survival-improved}
ggplot(titanic, aes(x = Survived)) +
  theme_classic() +
  geom_bar() +
  labs(y = "Passenger Count",
       title = "Titanic Survival Rates")
# Just to see what the actual percentages are for Survival (in console)
prop.table(table(titanic$Survived))
```

## What was the survival rate by Gender
We can use color to look at two aspects (i.e., dimensions) of the data simultaneously.

```{r survival-rates-by-gender}
ggplot(titanic, aes(x = Sex, fill = Survived)) +
  theme_classic() +
  geom_bar() +
  labs(y = "Passenger Count",
       title = "Titanic Survival Rates by Gender") +
  legend()
```

